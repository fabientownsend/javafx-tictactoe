plugins {
  id "com.github.kt3k.coveralls" version "2.6.3"
  id "jacoco"
}

apply plugin: 'java'

jar {
  manifest {
    attributes 'Main-Class': 'fx/Main'
  }
}

repositories {
  mavenCentral()
  mavenLocal()
  jcenter()
}

dependencies {
  compile 'fr.townsend.tictactoe:JavaCoreTicTacToe:1.0'
  testCompile 'junit:junit:4.11'
  testCompile 'org.assertj:assertj-core:3.6.1'
  testCompile "org.testfx:testfx-core:4.0.+"
  testCompile "org.testfx:testfx-junit:4.0.+"
}

jacocoTestReport {
  reports {
    xml.enabled true
  }

  afterEvaluate {
    classDirectories = files(classDirectories.files.collect {
        fileTree(dir: it,
            exclude: ['**/Main.*'
            ])
        })
  }
}

task wrapper(type: Wrapper) {
      gradleVersion = '3.2'
}
